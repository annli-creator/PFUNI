{"version":3,"sources":["webpack:///D:/HBuilderProjects/uni-app/PFUNI/components/Dropload/Dropload.vue?c583","webpack:///D:/HBuilderProjects/uni-app/PFUNI/components/Dropload/Dropload.vue?f073","webpack:///D:/HBuilderProjects/uni-app/PFUNI/components/Dropload/Dropload.vue?e8e6","webpack:///D:/HBuilderProjects/uni-app/PFUNI/components/Dropload/Dropload.vue?0df2","webpack:///D:/HBuilderProjects/uni-app/PFUNI/components/Dropload/Dropload.vue","webpack:///D:/HBuilderProjects/uni-app/PFUNI/components/Dropload/Dropload.vue?5056","webpack:///D:/HBuilderProjects/uni-app/PFUNI/components/Dropload/Dropload.vue?9494"],"names":["name","data","startPageY","movepageY","isPullingUp","isPullDown","status","top","isTouch","props","listData","type","Array","default","pullDownText","Object","contentdown","contentrefresh","contentnomore","pullingUpText","pullDown","Function","require","created","onLoad","methods","setState","State","setTimeout","touchStart","e","touches","pageY","touchMove","diff","preventDefault","Math","floor","touchEnd","$emit","onScroll","innerHeight","detail","scrollHeight","outerHeight","uni","getSystemInfoSync","screenHeight","scrollTop","console","log"],"mappings":"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","file":"components/Dropload/Dropload.js","sourcesContent":["import { render, staticRenderFns } from \"./Dropload.vue?vue&type=template&id=b33d430c&scoped=true&\"\nimport script from \"./Dropload.vue?vue&type=script&lang=js&\"\nexport * from \"./Dropload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dropload.vue?vue&type=style&index=0&id=b33d430c&lang=scss&scoped=scoped&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b33d430c\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('b33d430c', component.options)\n    } else {\n      api.reload('b33d430c', component.options)\n    }\n    module.hot.accept(\"./Dropload.vue?vue&type=template&id=b33d430c&scoped=true&\", function () {\n      api.rerender('b33d430c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"HBuilderProjects/uni-app/PFUNI/components/Dropload/Dropload.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Dropload.vue?vue&type=template&id=b33d430c&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Dropload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Dropload.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nexport default {\r\n\tname:'Dropload',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tstartPageY:'',\r\n\t\t\tmovepageY:'',\r\n\t\t\tisPullingUp:false,\r\n\t\t\tisPullDown:false,\r\n\t\t\tstatus:'more',\r\n\t\t\ttop:0,\r\n\t\t\tisTouch: false, //代表当前是否处于 下拉刷新行为的开关，也就是当属于滚动行为时，就要退出该事件机制\r\n\t\t  }\r\n\t\t},\r\n\tprops: {\r\n\t  listData: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: function () {\r\n\t\t\t\t  return []\r\n\t\t\t\t}\r\n\t\t\t },\r\n\t\tpullDownText:{\r\n\t\t\ttype:Object,\r\n\t\t\tdefault(){\r\n\t\t\t\treturn{\r\n\t\t\t\t\tcontentdown: \"下拉刷新...\",\r\n\t\t\t\t\tcontentrefresh: \"正在加载...\",\r\n\t\t\t\t\tcontentnomore: \"更新成功...\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tpullingUpText: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault () {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcontentdown: \"上拉显示更多\",\r\n\t\t\t\t\tcontentrefresh: \"正在加载...\",\r\n\t\t\t\t\tcontentnomore: \"没有更多数据了\"\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\tpullDown:{ //刷新回调\r\n\t\t\ttype:Function,\r\n\t\t\trequire:true\r\n\t\t},\r\n\t   },  \r\n\tcreated() {\r\n\t\t\r\n       }, \t\t\t\r\n\tonLoad() {\r\n\r\n\t},\t\t\t\t\r\n\tmethods: {\r\n\t\tsetState(State){ //修改状态\r\n\t\t   this.status=State;\r\n\t\t   if(State===\"noPullDow\"){ //更新完成\r\n\t\t\t   setTimeout(()=>{\r\n\t\t\t\t  this.isPullDown=false; \r\n\t\t\t   },500)\r\n\t\t   }\r\n\t\t },\r\n\t   \ttouchStart(e) {//当手指触摸屏幕时触发\r\n             this.startPageY = e.touches[0].pageY;\r\n\t\t\t // 开启下拉刷新状态\r\n　　　　　　   this.isTouch = true\r\n\t\t },\r\n\t\ttouchMove(e) { //当手指在屏幕上滑动时连续地触发--该方法为下拉刷新核心代码\r\n\t\t \tthis.movepageY = e.touches[0].pageY;\r\n\t\t   //这个 touchMove，只要页面在动都会发生的，所以 touching就起作用了\r\n　　　　　　//如果 touching为false，说明这个正在移动的页面不是我们想要的下拉刷新，有可能是用户随意拉了一下页面而已，或者其他\r\n　　　　　　if(!this.isTouch) return;\r\n　　　　　　　　　// 获取移动的距离\r\n　　　　　　let diff = this.movepageY - this.startPageY\r\n             // console.log(diff)\r\n\t　　　　　　//判断是向上拉还是向下拉 \r\n\t　　　　　　if(diff >0) { //大于0为向上滑\r\n\t　　　　　　　　e.preventDefault()\r\n\t　　　　　　} else { //为向下滑\r\n\t　　　　　　　　return 　　\r\n\t　　　　　　}\r\n　　　　　　//这个this.top要对应绑定到该元素的transform: translateY(+top+ 'px')上，不然是无法拉动的\r\n　　　　　　// 因此这里还要对偏移高度做一下处理，直接设置diff +(this.status === loading ? 40 : 0) 太快了，因为拉取幅度太大\r\n　　　　　　//让diff*0.25这样子就差不多了\r\n　　　　　　this.top = Math.floor(diff*0.25) + (this.status === \"loading\" ? 40 : 0)\r\n\t　　　　　　if(this.top >= 40){\r\n\t\t\t\t  this.isPullDown=true;//显示\r\n\t　　　　　　　　this.status = \"loading\"   //代表正在拉取\r\n\t　　　　　　} else {\r\n\t\t\t\t  this.isPullDown=true;//显示\r\n\t　　　　　　　　//this.status = \"more\"  // 代表初始转态\r\n\t　　　　　　}　\r\n\t\t},\r\n\t\ttouchEnd(e) { //当手指从屏幕上移开时触发。\r\n\t\t\t //1下拉刷新也就是（touchstart => touchmove(下移动) =>touchend）的一个过程\r\n\t\t\t //大体思路：\r\n\t\t\t //下拉主要与手指触摸y轴点有关\r\n\t\t\t //1.记录下手指按下y轴的坐标点\r\n\t\t\t //2.记录手指移动时，移动的距离（注意：要判断手指是向上移还是向下移，向上移就是滚动）\r\n\t\t\t //3.启动下拉刷新事件\r\n\t\t　 this.isTouch = false\r\n　　　　　　if(this.status === \"noPullDow\") { //结束下拉刷新\r\n　　　　　　　　this.top = 40\r\n　　　　　　　　return \r\n　　　　　　} \r\n　　　　　　//判断抬起时的高度，是大于40 就开启刷新\r\n　　　　　　if(this.top >= 40) {\r\n\t\t\t\tthis.isPullDown=true;//显示\r\n\t\t\t\tthis.status=\"loading\";\r\n\t\t\t\tthis.$emit('pullDown'); //下拉刷新-\r\n　　　　　　} else { \r\n　　　　　　　　//this.status = \"more\"\r\n　　　　　　　　this.top = 0\r\n　　　　　　}\r\n\t\t},\t\r\n\t\tonScroll(e) {\r\n\t\t\t         //止方法存在兼容问题\r\n\t\t             //1.当内容高度>窗口（父元素）===才会触发滚动事件\r\n\t\t\t         //可滚动容器的高度\r\n                    let innerHeight = e.detail.scrollHeight-100;  //子元素高度\r\n                    //屏幕尺寸高度\r\n                    let outerHeight = uni.getSystemInfoSync().screenHeight;\t\t\t\t\r\n                    //可滚动容器超出当前窗口显示范围的高度\r\n                    let scrollTop = e.detail.scrollTop;\r\n                    //scrollTop在页面为滚动时为0，开始滚动后，慢慢增加，滚动到页面底部时，出现innerHeight < (outerHeight + scrollTop)的情况，严格来讲，是接近底部。\r\n                    //console.log(innerHeight + \" \" + outerHeight + \" \" + scrollTop);\r\n\t\t\t\t\tconsole.log(this.status)\r\n\t\t\t\t     if(this.status==\"loading\"){ //正在加载中\r\n\t\t\t\t\t     return;\r\n\t\t\t\t     }\r\n\t\t\t\t\t\r\n                    if(innerHeight < (outerHeight + scrollTop)) {\r\n\t\t\t\t\t\tthis.status=\"loading\";\r\n\t\t\t\t\t\tthis.isPullingUp=true;//显示\r\n\t\t\t\t\t    this.$emit('pullingUp'); //加载更多操作\t\r\n                    }\r\n\t\t }\r\n\t }\t\t\r\n}\r\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Dropload.vue?vue&type=style&index=0&id=b33d430c&lang=scss&scoped=scoped&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./Dropload.vue?vue&type=style&index=0&id=b33d430c&lang=scss&scoped=scoped&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}